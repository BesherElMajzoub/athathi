<?php

namespace App\Http\Controllers;

use App\Services\SchemaService;
use App\Services\SeoMetaService;

class PageController extends Controller
{
    /**
     * FAQ page.
     */
    public function faq(SeoMetaService $seo, SchemaService $schema)
    {
        $seo->forFaq();
        $faqs = $this->getAllFaqs();

        $breadcrumbs = $schema->breadcrumbs([
            ['name' => 'الرئيسية', 'url' => url('/')],
            ['name' => 'الأسئلة الشائعة'],
        ]);

        $schemas = [$schema->faqPage($faqs)];

        return view('pages.faq', compact('seo', 'schema', 'schemas', 'breadcrumbs', 'faqs'));
    }

    /**
     * About page.
     */
    public function about(SeoMetaService $seo, SchemaService $schema)
    {
        $seo->forAbout();

        $breadcrumbs = $schema->breadcrumbs([
            ['name' => 'الرئيسية', 'url' => url('/')],
            ['name' => 'من نحن'],
        ]);

        $schemas = [$schema->localBusiness()];

        return view('pages.about', compact('seo', 'schema', 'schemas', 'breadcrumbs'));
    }

    /**
     * Contact page.
     */
    public function contact(SeoMetaService $seo, SchemaService $schema)
    {
        $seo->forContact();

        $breadcrumbs = $schema->breadcrumbs([
            ['name' => 'الرئيسية', 'url' => url('/')],
            ['name' => 'اتصل بنا'],
        ]);

        $schemas = [$schema->localBusiness()];

        return view('pages.contact', compact('seo', 'schema', 'schemas', 'breadcrumbs'));
    }

    /**
     * Video page.
     */
    public function video(SeoMetaService $seo, SchemaService $schema)
    {
        $seo->forVideo();

        $breadcrumbs = $schema->breadcrumbs([
            ['name' => 'الرئيسية', 'url' => url('/')],
            ['name' => 'فيديو'],
        ]);

        return view('pages.video', compact('seo', 'schema', 'breadcrumbs'));
    }

    /**
     * HTML Sitemap page.
     */
    public function sitemapHtml(SeoMetaService $seo, SchemaService $schema)
    {
        $seo->forSitemap();
        $services = config('business.services');
        $clusters = config('jeddah_districts.clusters');

        $breadcrumbs = $schema->breadcrumbs([
            ['name' => 'الرئيسية', 'url' => url('/')],
            ['name' => 'خريطة الموقع'],
        ]);

        return view('pages.sitemap-html', compact('seo', 'schema', 'breadcrumbs', 'services', 'clusters'));
    }

    /**
     * Get all 60 FAQ items.
     */
    protected function getAllFaqs(): array
    {
        $city = config('business.city_ar');
        $phone = config('business.phone');

        return [
            // General Questions (1-10)
            ['question' => 'ما هي الخدمات التي تقدمونها في جدة؟', 'answer' => "نقدم خدمات شاملة تشمل شراء الأثاث المستعمل والعفش والمكيفات والمطابخ والسكراب وأثاث القصور في جميع أحياء {$city}. جميع خدماتنا تشمل المعاينة المجانية والفك والنقل والدفع النقدي الفوري."],
            ['question' => 'كيف يتم تحديد سعر الأثاث المستعمل في جدة؟', 'answer' => 'نعتمد على عدة معايير لتحديد السعر: حالة القطعة، نوعها وماركتها، عمرها الافتراضي، جودة الخامات، والطلب في السوق المحلي. فريقنا المتخصص يقوم بالمعاينة الميدانية لتقديم أعلى سعر ممكن.'],
            ['question' => 'هل تقدمون خدمة شراء أثاث مستعمل على مدار الساعة؟', 'answer' => 'نعم، نحن متاحون على مدار الساعة 24 ساعة طوال 7 أيام في الأسبوع، بما في ذلك العطلات الرسمية والأعياد. يمكنك الاتصال بنا في أي وقت.'],
            ['question' => 'هل خدمة الفك والنقل مجانية بالفعل؟', 'answer' => 'نعم، خدمة الفك والنقل مجانية 100%. لا نتقاضى أي رسوم إضافية على الفك أو التحميل أو النقل. كل شيء مشمول في الخدمة.'],
            ['question' => 'كيف يتم الدفع عند شراء الأثاث المستعمل؟', 'answer' => 'نقوم بالدفع نقدياً وفورياً بمجرد الاتفاق على السعر. لا يوجد تأخير أو تحويلات بنكية - المبلغ يُدفع لك يداً بيد في نفس اللحظة.'],
            ['question' => 'ما هي المناطق التي تغطونها في جدة؟', 'answer' => "نغطي جميع أحياء ومناطق {$city} بدون استثناء. من شمال جدة إلى جنوبها ومن شرقها إلى غربها. نصل لأي موقع داخل المدينة."],
            ['question' => 'هل تشترون الأثاث بأي حالة كانت؟', 'answer' => 'نشتري الأثاث بمختلف حالاته - الجديد والمستعمل بحالة ممتازة والقديم. حتى القطع التي تحتاج صيانة قد يكون لها قيمة. تواصل معنا للتقييم.'],
            ['question' => 'كم من الوقت يستغرق الوصول إلى موقعي؟', 'answer' => "نصل عادة خلال 15 إلى 30 دقيقة من وقت اتصالك، حسب موقعك في {$city}. في بعض الأحيان نصل في وقت أقل."],
            ['question' => 'هل يمكنني معرفة السعر التقريبي قبل الزيارة؟', 'answer' => 'يمكننا تقديم تقدير مبدئي عبر الهاتف أو الواتساب إذا أرسلت لنا صوراً واضحة للقطع. لكن التقييم النهائي والأدق يتم بعد المعاينة الميدانية.'],
            ['question' => 'هل تتعاملون مع الشركات والمؤسسات؟', 'answer' => 'نعم، نقدم خدمات خاصة للشركات والمؤسسات وشراء الأثاث المكتبي بكميات كبيرة. نوفر عروض أسعار خاصة للكميات الكبيرة.'],

            // Furniture Specific (11-20)
            ['question' => 'ما أنواع غرف النوم التي تشترونها؟', 'answer' => 'نشتري جميع أنواع غرف النوم - فاخرة وعادية، خشب طبيعي ومُصنَّع، ماركات عالمية ومحلية. نشتري الغرف الكاملة والقطع المنفردة أيضاً.'],
            ['question' => 'هل تشترون المجالس العربية المستعملة؟', 'answer' => 'نعم، نشتري المجالس العربية بجميع أنواعها - أرضية ومرتفعة، تراثية وعصرية. كما نشتري الجلسات الخارجية أيضاً.'],
            ['question' => 'هل تشترون الصالونات والكنب المستعمل؟', 'answer' => 'بالتأكيد، نشتري جميع أنواع الصالونات والكنب المستعمل - قماش وجلد، كلاسيك ومودرن، بجميع الأحجام والألوان.'],
            ['question' => 'ما أنواع طاولات الطعام التي تشترونها؟', 'answer' => 'نشتري طاولات الطعام بجميع أحجامها وأنواعها - خشب، رخام، زجاج. كما نشتري السفر الكاملة بالكراسي والبوفيه.'],
            ['question' => 'هل تشترون الأثاث المكتبي؟', 'answer' => 'نعم، نشتري جميع أنواع الأثاث المكتبي: مكاتب، كراسي مكتب، خزائن ملفات، طاولات اجتماعات، وكل ما يتعلق بالتأثيث المكتبي.'],
            ['question' => 'هل تشترون الدواليب والخزائن المنفردة؟', 'answer' => 'نعم، نشتري القطع المنفردة بما في ذلك الدواليب والخزائن والكمودينو والتسريحات. لا يشترط بيع غرفة كاملة.'],
            ['question' => 'ما حكم شراء الأثاث التالف أو المكسور؟', 'answer' => 'نشتري بعض القطع التالفة إذا كانت قابلة للإصلاح أو إعادة التدوير. تواصل معنا وأرسل صوراً لنقدم لك تقييماً.'],
            ['question' => 'هل تشترون السجاد والموكيت المستعمل؟', 'answer' => 'نشتري السجاد اليدوي والماركات المعروفة والسجاد الفاخر. أما الموكيت العادي فيعتمد على حالته ونوعه.'],
            ['question' => 'هل تشترون الستائر المستعملة؟', 'answer' => 'نشتري الستائر الفاخرة ذات الجودة العالية والماركات المعروفة، خاصة الستائر الكهربائية والأقمشة الفاخرة.'],
            ['question' => 'ما هي أفضل طريقة لتحضير الأثاث قبل البيع؟', 'answer' => 'ننصح بتنظيف الأثاث وترتيبه وإزالة المتعلقات الشخصية. الأثاث النظيف يحصل على تقييم أعلى. لا تقم بإصلاحات مكلفة قبل التواصل معنا.'],

            // AC Specific (21-30)
            ['question' => 'ما أنواع المكيفات التي تشترونها في جدة؟', 'answer' => 'نشتري جميع أنواع المكيفات: سبليت (جداري)، شباك، مركزي، صحراوي، ومتنقل. بجميع الأحجام من 1 طن إلى 5 طن وأكبر.'],
            ['question' => 'هل تشترون المكيفات القديمة غير العاملة؟', 'answer' => 'نشتري المكيفات التي تعمل والتي لا تعمل. القطع غير العاملة لها قيمة في قطع الغيار وإعادة التدوير.'],
            ['question' => 'هل فك المكيف مشمول في الخدمة؟', 'answer' => 'نعم، فريقنا الفني المتخصص يتولى فك المكيفات بجميع أنواعها باحترافية تامة دون أي تكلفة عليك.'],
            ['question' => 'ما هي ماركات المكيفات التي تحصل على أعلى سعر؟', 'answer' => 'المكيفات من ماركات مثل LG، سامسونج، كارير، جنرال، ميدياتك، وغيرها من الماركات المعروفة تحصل على تقييم أعلى.'],
            ['question' => 'كم يبلغ سعر شراء مكيف سبليت مستعمل؟', 'answer' => 'يختلف السعر حسب الحجم والماركة والحالة. تواصل معنا للحصول على تقييم دقيق. نضمن لك أعلى سعر في السوق.'],
            ['question' => 'هل تشترون المكيفات المركزية؟', 'answer' => 'نعم، نشتري وحدات التكييف المركزي بجميع أحجامها. لدينا فريق متخصص في فك المكيفات المركزية.'],
            ['question' => 'كيف أعرف قيمة مكيفي المستعمل؟', 'answer' => 'قيمة المكيف تعتمد على: الماركة، الحجم (بالطن)، العمر، حالة التبريد، والشكل الخارجي. اتصل بنا أو أرسل صوراً للتقييم.'],
            ['question' => 'هل تشمل الخدمة فك النحاس من المكيف؟', 'answer' => 'نشتري المكيف بالكامل كوحدة واحدة. لا نقوم بفك الأجزاء الداخلية، بل نشتري الوحدة كاملة بأعلى سعر.'],
            ['question' => 'ما الفرق في السعر بين مكيف شباك ومكيف سبليت مستعمل؟', 'answer' => 'عادة مكيفات السبليت تحصل على سعر أعلى من مكيفات الشباك لنفس الحجم، نظراً للطلب الأكبر عليها في السوق.'],
            ['question' => 'هل تشترون المكيفات من المحلات والشركات؟', 'answer' => 'نعم، نقدم خدمة خاصة للمحلات والشركات والمستودعات. نشتري أعداداً كبيرة من المكيفات بأسعار جملة ممتازة.'],

            // Kitchen Specific (31-38)
            ['question' => 'هل تشترون المطابخ المستعملة بالكامل؟', 'answer' => 'نعم، نشتري المطابخ الكاملة بجميع مكوناتها: الدواليب، الرخام أو الجرانيت، الأجهزة المدمجة. كما نشتري القطع المنفردة.'],
            ['question' => 'هل يتم فك المطبخ باحترافية؟', 'answer' => 'نعم، لدينا فنيون متخصصون في فك المطابخ بدقة عالية للحفاظ على سلامة القطع. الخدمة مجانية بالكامل.'],
            ['question' => 'ما أنواع المطابخ التي تشترونها؟', 'answer' => 'نشتري مطابخ الخشب الطبيعي والألمنيوم والمُصنَّع. بجميع الأحجام والتصاميم سواء كلاسيك أو مودرن.'],
            ['question' => 'هل تشترون أجهزة المطبخ المنفصلة؟', 'answer' => 'نعم، نشتري أجهزة المطبخ مثل الأفران، الثلاجات، غسالات الأطباق، الميكروويف وغيرها بشكل منفصل.'],
            ['question' => 'كيف يتم تقييم سعر المطبخ المستعمل؟', 'answer' => 'يعتمد التقييم على نوع المادة (خشب/ألمنيوم)، الحالة العامة، عدد الأمتار، وجود أجهزة مدمجة، ونوع الرخام أو الجرانيت.'],
            ['question' => 'هل يمكن بيع مطبخ الألمنيوم المستعمل؟', 'answer' => 'نعم نشتري مطابخ الألمنيوم بأسعار جيدة. الألمنيوم له قيمة كمادة قابلة لإعادة التدوير إضافة لقيمته كقطعة أثاث.'],
            ['question' => 'هل تشترون مطابخ الجرانيت؟', 'answer' => 'نعم، المطابخ المزودة بسطح جرانيت أو رخام تحصل على تقييم أعلى. نشتري المطبخ كاملاً بما في ذلك سطح العمل.'],
            ['question' => 'كم يستغرق فك المطبخ؟', 'answer' => 'يستغرق فك المطبخ عادة من 2 إلى 4 ساعات حسب الحجم والتعقيد. فريقنا محترف ويعمل بدقة وسرعة.'],

            // Scrap Specific (39-45)
            ['question' => 'ما أنواع السكراب التي تشترونها في جدة؟', 'answer' => 'نشتري جميع أنواع السكراب: حديد، نحاس، ألمنيوم، استانلس ستيل، بلاستيك، كابلات كهربائية، نحاس أحمر وأصفر.'],
            ['question' => 'هل تشترون سكراب المصانع والمخازن؟', 'answer' => 'نعم، نقدم خدمة خاصة لشراء سكراب المصانع والمخازن والورش بكميات كبيرة. نوفر سيارات نقل ثقيل ومعدات تحميل.'],
            ['question' => 'كيف يتم تسعير السكراب؟', 'answer' => 'يعتمد سعر السكراب على نوع المعدن ونقائه والوزن وأسعار السوق الحالية. نقدم أسعار يومية تنافسية.'],
            ['question' => 'هل تشترون السيارات التالفة كسكراب؟', 'answer' => 'نشتري بعض أنواع السيارات التالفة كسكراب حديد. تواصل معنا لتقييم حالة السيارة وتقديم عرض سعر.'],
            ['question' => 'ما الحد الأدنى لكمية السكراب المطلوبة؟', 'answer' => 'لا يوجد حد أدنى. نشتري من كيلو واحد إلى أطنان. لكن النقل يكون أكثر جدوى مع كميات أكبر.'],
            ['question' => 'هل لديكم ميزان لوزن السكراب؟', 'answer' => 'نعم، لدينا موازين إلكترونية دقيقة لضمان الوزن الصحيح والعادل لجميع أنواع السكراب.'],
            ['question' => 'هل تشترون الكابلات الكهربائية المستعملة؟', 'answer' => 'نعم، نشتري الكابلات الكهربائية النحاسية والألمنيوم بأسعار ممتازة. النحاس خاصة يحصل على سعر مرتفع.'],

            // Palace/Luxury (46-50)
            ['question' => 'ما المقصود بأثاث القصور الذي تشترونه؟', 'answer' => 'نقصد الأثاث الفاخر والحصري من ماركات عالمية مثل أثاث الفلل والقصور والأجنحة الملكية. قطع ذات جودة استثنائية وتصاميم فريدة.'],
            ['question' => 'هل تشترون أثاث الماركات العالمية الفاخرة؟', 'answer' => 'نعم، نشتري أثاث الماركات العالمية مثل Versace Home، Fendi Casa، وغيرها. هذه القطع تحصل على أعلى التقييمات.'],
            ['question' => 'كيف يختلف سعر أثاث القصور عن الأثاث العادي؟', 'answer' => 'أثاث القصور والفلل الفاخر يحصل على أسعار أعلى بكثير نظراً لجودة خاماته وتصميمه الحصري وقيمته السوقية العالية.'],
            ['question' => 'هل تشترون الثريات والإضاءات الفاخرة؟', 'answer' => 'نعم، نشتري الثريات الكريستال والإضاءات الفاخرة من الماركات المعروفة. يتم فكها باحترافية عالية.'],
            ['question' => 'هل تشترون أثاث الحدائق والمسابح؟', 'answer' => 'نعم، نشتري أثاث الحدائق والمسابح الفاخر من القصور والفلل بأسعار ممتازة.'],

            // Process & Trust (51-60)
            ['question' => 'ما هي خطوات عملية شراء الأثاث؟', 'answer' => 'الخطوات بسيطة: 1) اتصل بنا أو راسلنا واتساب. 2) نصلك للمعاينة خلال دقائق. 3) نقدم عرض سعر. 4) بعد الموافقة ندفع نقداً فوراً. 5) نفك وننقل بالكامل.'],
            ['question' => 'هل يمكن إلغاء البيع بعد المعاينة؟', 'answer' => 'بالتأكيد، المعاينة مجانية وبدون أي التزام. إذا لم يعجبك العرض، لك كامل الحرية في الرفض دون أي تكلفة.'],
            ['question' => 'هل تقدمون فاتورة عند الشراء؟', 'answer' => 'نعم، يمكننا تقديم إيصال أو فاتورة عند الطلب. نحرص على الشفافية في جميع تعاملاتنا.'],
            ['question' => 'هل التعامل معكم آمن وموثوق؟', 'answer' => 'نعم، نحن شركة معروفة وموثوقة في جدة بسنوات طويلة من الخبرة. لدينا آلاف العملاء الراضين عن خدماتنا.'],
            ['question' => 'هل يمكنني جدولة موعد للزيارة؟', 'answer' => 'نعم، يمكنك تحديد الموعد المناسب لك وسنكون عندك في الوقت المحدد. كما يمكننا الحضور فوراً إذا رغبت.'],
            ['question' => "ما هو رقم التواصل للاستفسار عن {$city}؟", 'answer' => "يمكنك التواصل معنا على الرقم {$phone} عبر الاتصال أو الواتساب. متاحون على مدار الساعة."],
            ['question' => 'هل تشترون من خارج جدة؟', 'answer' => "حالياً خدماتنا تغطي {$city} وضواحيها. للمواقع البعيدة يرجى التواصل معنا للتأكد من إمكانية الخدمة."],
            ['question' => 'ما ضمان الحصول على أعلى سعر؟', 'answer' => 'نحن نتابع أسعار السوق يومياً ونضمن تقديم أسعار تنافسية. إذا وجدت سعراً أفضل من شركة أخرى، أخبرنا وسنحاول تقديم عرض أفضل.'],
            ['question' => 'هل يمكنني بيع جزء فقط من أثاث المنزل؟', 'answer' => 'نعم، يمكنك بيع ما تريد فقط. لا يشترط بيع أثاث المنزل بالكامل. نشتري القطعة الواحدة والمجموعات.'],
            ['question' => 'كيف أتواصل معكم عبر الواتساب؟', 'answer' => "يمكنك مراسلتنا عبر الواتساب على الرقم {$phone}. أرسل لنا صوراً للقطع المراد بيعها وسنرد عليك بتقييم مبدئي في أسرع وقت."],
        ];
    }
}
